<input type="hidden" name="p_id" value="{{ product_id }}" />
{% if parameter in ['tag', 'name'] %}
<div class="row-fluid">
	<div class="col-sm-12">
		{% for language in languages %}
		<div class="input-group multi-row">
			<span class="input-group-addon" title="{{ language.name }}"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
			<input type="text" name="value[{{ language.language_id }}]" class="form-control" value="{{ value[language.language_id] }}" />
		</div>
		{% endfor %}
	</div>
</div>
{% elseif parameter in ['seo', 'keywords'] %}
<div class="table-responsive">
<table class="table table-bordered table-hover">
	<thead>
		<tr>
			<td class="text-left">{{ entry_store }}</td>
			<td class="text-left">{{ entry_keyword }}</td>
		</tr>
	</thead>
	<tbody>
		{% for store in stores %}
		<tr>
			<td class="text-left">{{ store.name }}</td>
			<td class="text-left">
				{% for language in languages %}
				<div class="input-group"><span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
					<input type="text" name="value[{{ store.store_id }}][{{ language.language_id }}]" value="{{ value[store.store_id][language.language_id] }}" placeholder="{{ entry_keyword }}" class="form-control" />
				</div>
				{% endfor %}
			</td>
		</tr>
		{% endfor %}
	</tbody>
</table>
{% elseif parameter == 'category' %}
<div class="row">
	<div class="col-sm-12">
		<input type="text" name="category" value="" placeholder="{{ entry_category }}" id="input-category" class="form-control" />
		<div id="product-category" class="well well-sm" style="height: 150px; overflow: auto;">
			{% for product_category in product_categories %}
			<div id="product-category{{ product_category.category_id }}"><i class="fa fa-minus-circle" onclick="$(this).parent().remove();"></i> {{ product_category.name }}
					<input type="hidden" name="product_category[]" value="{{ product_category.category_id }}" />
			</div>
			{% endfor %}
		</div>
	</div>
</div>
<script type="text/javascript"><!--
$('input[name=\'category\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=catalog/category/autocomplete&user_token={{ user_token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['category_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'category\']').val('');

		$('#product-category' + item['value']).remove();

		$('#product-category').append('<div id="product-category' + item['value'] + '"><i class="fa fa-minus-circle" onclick="$(this).parent().remove();"></i> ' + item['label'] + '<input type="hidden" name="product_category[]" value="' + item['value'] + '" /></div>');
	}
});
//--></script>
{% elseif parameter == 'store' %}
<div class="row">
	<div class="col-sm-12">
		<div class="well well-sm" style="height: 150px; overflow: auto;">
			{% for store in stores %}
			<div class="checkbox">
				<label>
					<input type="checkbox" name="product_store[]" value="{{ store.store_id }}"{{ store.store_id in product_store ? ' checked="checked"' : '' }}/>
					{{ store.name }}
				</label>
			</div>
			{% endfor %}
		</div>
	</div>
</div>
{% elseif parameter in ['filter', 'filters'] %}
<div class="row">
	<div class="col-sm-12">
		<input type="text" name="filter" value="" placeholder="{{ entry_filter }}" id="input-filter" class="form-control" />
		<div id="product-filter" class="well well-sm" style="height: 150px; overflow: auto;">
			{% for product_filter in product_filters %}
			<div id="product-filter{{ product_filter.filter_id }}"><i class="fa fa-minus-circle" onclick="$(this).parent().remove();"></i> {{ product_filter.name }}
					<input type="hidden" name="product_filter[]" value="{{ product_filter.filter_id }}" />
			</div>
			{% endfor %}
		</div>
	</div>
</div>
<script type="text/javascript"><!--
$('input[name=\'filter\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=catalog/filter/autocomplete&user_token={{ user_token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['filter_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'filter\']').val('');

		$('#product-filter' + item['value']).remove();

		$('#product-filter').append('<div id="product-filter' + item['value'] + '"><i class="fa fa-minus-circle" onclick="$(this).parent().remove();"></i> ' + item['label'] + '<input type="hidden" name="product_filter[]" value="' + item['value'] + '" /></div>');
	}
});
//--></script>
{% elseif parameter == 'attributes' %}
<div class="table-responsive">
	<table class="table table-striped table-bordered table-hover" id="attributes">
		<thead>
			<tr>
				<td class="text-left">{{ entry_attribute }}</td>
				<td class="text-left">{{ entry_text }}</td>
				<td width="1"></td>
			</tr>
		</thead>
		<tbody>
			{% set attribute_row = 0 %}
			{% for product_attribute in product_attributes %}
			<tr id="attribute-row{{ attribute_row }}">
				<td class="text-left" style="width:25%;"><input type="text" name="product_attribute[{{ attribute_row }}][name]" value="{{ product_attribute.name }}" placeholder="{{ entry_attribute }}" class="form-control" />
					<input type="hidden" name="product_attribute[{{ attribute_row }}][attribute_id]" value="{{ product_attribute.attribute_id }}" /></td>
				<td class="text-left">{% for language in languages %}
					<div class="input-group"><span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
						<textarea name="product_attribute[{{ attribute_row }}][product_attribute_description][{{ language.language_id }}][text]" rows="5" placeholder="{{ entry_text }}" class="form-control">{{ product_attribute.product_attribute_description[language.language_id].text }}</textarea>
					</div>
					{% endfor %}</td>
				<td class="text-left"><button type="button" onclick="$(this).tooltip('destroy');$('#attribute-row{{ attribute_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
			</tr>
			{% set attribute_row = attribute_row + 1 %}
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td colspan="2"></td>
				<td class="text-left"><button type="button" onclick="addAttribute();" data-toggle="tooltip" title="{{ button_attribute_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
			</tr>
		</tfoot>
	</table>
</div>
<script type="text/javascript"><!--
var attribute_row = {{ attribute_row }};

function addAttribute() {
	html  = '  <tr id="attribute-row' + attribute_row + '">';
	html += '    <td class="text-left" style="width:25%;"><input type="text" name="product_attribute[' + attribute_row + '][name]" value="" placeholder="{{ entry_attribute }}" class="form-control" /><input type="hidden" name="product_attribute[' + attribute_row + '][attribute_id]" value="" /></td>';
	html += '    <td class="text-left">';
	{% for language in languages %}
	html += '      <div class="input-group"><span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span><textarea name="product_attribute[' + attribute_row + '][product_attribute_description][{{ language.language_id }}][text]" rows="5" placeholder="{{ entry_text }}" class="form-control"></textarea></div>';
	{% endfor %}
	html += '    </td>';
	html += '    <td class="text-left"><button type="button" onclick="$(this).tooltip(\'destroy\');$(\'#attribute-row' + attribute_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '  </tr>';

	$('#attributes tbody').append(html);

	attributeautocomplete(attribute_row);

	$('#attribute-row' + attribute_row + ' [data-toggle=\'tooltip\']').tooltip({container: 'body'});

	attribute_row++;
}

function attributeautocomplete(attribute_row) {
	$('input[name=\'product_attribute[' + attribute_row + '][name]\']').autocomplete({
		source: function(request, response) {
			$.ajax({
				url: 'index.php?route=catalog/attribute/autocomplete&user_token={{ user_token }}&filter_name=' +  encodeURIComponent(request),
				dataType: 'json',
				success: function(json) {
					response($.map(json, function(item) {
						return {
							category: item.attribute_group,
							label: item.name,
							value: item.attribute_id
						}
					}));
				}
			});
		},
		select: function(item) {
			$('input[name=\'product_attribute[' + attribute_row + '][name]\']').val(item['label']);
			$('input[name=\'product_attribute[' + attribute_row + '][attribute_id]\']').val(item['value']);
		}
	});
}

$('#attributes tbody tr').each(function(index, element) {
	attributeautocomplete(index);
});
//--></script>
{% elseif parameter == 'discounts' %}
<div class="table-responsive">
	<table class="table table-striped table-bordered table-hover" id="discounts">
		<thead>
			<tr>
				<td class="text-left">{{ entry_customer_group }}</td>
				<td class="text-right">{{ entry_quantity }}</td>
				<td class="text-right">{{ entry_priority }}</td>
				<td class="text-right">{{ entry_price }}</td>
				<td class="text-left">{{ entry_date_start }}</td>
				<td class="text-left">{{ entry_date_end }}</td>
				<td width="1"></td>
			</tr>
		</thead>
		<tbody>
			{% set discount_row = 0 %}
			{% for product_discount in product_discounts %}
			<tr id="discount-row{{ discount_row }}">
				<td class="text-left"><select name="product_discount[{{ discount_row }}][customer_group_id]" class="form-control">
						{% for customer_group in customer_groups %}
						{% if customer_group.customer_group_id == product_discount.customer_group_id %}
						<option value="{{ customer_group.customer_group_id }}" selected="selected">{{ customer_group.name }}</option>
						{% else %}
						<option value="{{ customer_group.customer_group_id }}">{{ customer_group.name }}</option>
						{% endif %}
						{% endfor %}
					</select></td>
				<td class="text-right"><input type="text" name="product_discount[{{ discount_row }}][quantity]" value="{{ product_discount.quantity }}" placeholder="{{ entry_quantity }}" class="form-control" /></td>
				<td class="text-right"><input type="text" name="product_discount[{{ discount_row }}][priority]" value="{{ product_discount.priority }}" placeholder="{{ entry_priority }}" class="form-control" /></td>
				<td class="text-right"><input type="text" name="product_discount[{{ discount_row }}][price]" value="{{ product_discount.price }}" placeholder="{{ entry_price }}" class="form-control" /></td>
				<td class="text-left" style="width: 20%;"><div class="input-group date">
						<input type="text" name="product_discount[{{ discount_row }}][date_start]" value="{{ product_discount.date_start }}" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="form-control" />
						<span class="input-group-btn">
						<button class="btn btn-default" type="button"><i class="fa fa-calendar"></i></button>
						</span></div></td>
				<td class="text-left" style="width: 20%;"><div class="input-group date">
						<input type="text" name="product_discount[{{ discount_row }}][date_end]" value="{{ product_discount.date_end }}" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="form-control" />
						<span class="input-group-btn">
						<button class="btn btn-default" type="button"><i class="fa fa-calendar"></i></button>
						</span></div></td>
				<td class="text-left">
					<input type="hidden" name="product_discount[{{ discount_row }}][discount_id]" value="{{ product_discount.discount_id }}" />
					<button type="button" onclick="$(this).tooltip('destroy');$('#discount-row{{ discount_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button>
				</td>
			</tr>
			{% set discount_row = discount_row + 1 %}
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td colspan="6"></td>
				<td class="text-left"><button type="button" onclick="addDiscount();" data-toggle="tooltip" title="{{ button_discount_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
			</tr>
		</tfoot>
	</table>
</div>
<script type="text/javascript"><!--
var discount_row = {{ discount_row }};

function addDiscount() {
	html  = '  <tr id="discount-row' + discount_row + '">';
	html += '    <td class="text-left"><select name="product_discount[' + discount_row + '][customer_group_id]" class="form-control">';
	{% for customer_group in customer_groups %}
	html += '      <option value="{{ customer_group.customer_group_id }}">{{ customer_group.name|addslashes() }}</option>';
	{% endfor %}
	html += '    </select></td>';
	html += '    <td class="text-right"><input type="text" name="product_discount[' + discount_row + '][quantity]" value="" placeholder="{{ entry_quantity }}" class="form-control" /></td>';
	html += '    <td class="text-right"><input type="text" name="product_discount[' + discount_row + '][priority]" value="" placeholder="{{ entry_priority }}" class="form-control" /></td>';
	html += '    <td class="text-right"><input type="text" name="product_discount[' + discount_row + '][price]" value="" placeholder="{{ entry_price }}" class="form-control" /></td>';
	html += '    <td class="text-left"><div class="input-group date"><input type="text" name="product_discount[' + discount_row + '][date_start]" value="" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
	html += '    <td class="text-left"><div class="input-group date"><input type="text" name="product_discount[' + discount_row + '][date_end]" value="" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
	html += '    <td class="text-left"><button type="button" onclick="$(this).tooltip(\'destroy\');$(\'#discount-row' + discount_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '  </tr>';

	$('#discounts tbody').append(html);

	$('#discount-row' + discount_row + ' .date').datetimepicker({pickTime: false});

	$('#discount-row' + discount_row + ' [data-toggle=\'tooltip\']').tooltip({container: 'body'});

	discount_row++;
}
$('#discounts tbody .date').datetimepicker({pickTime: false});
//--></script>
{% elseif parameter == 'images' %}
<div class="table-responsive">
	<table id="images" class="table table-striped table-bordered table-hover">
		<thead>
			<tr>
				<td class="text-left">{{ entry_image }}</td>
				<td class="text-right">{{ entry_sort_order }}</td>
				<td width="1"></td>
			</tr>
		</thead>
		<tbody>
			{% set image_row = 0 %}
			{% for product_image in product_images %}
			<tr id="image-row{{ image_row }}">
		<td class="text-left"><a href="" id="thumb-image{{ image_row }}" data-toggle="image" class="img-thumbnail"><img src="{{ product_image.thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a><input type="hidden" name="product_image[{{ image_row }}][image]" value="{{ product_image.image }}" id="input-image{{ image_row }}" /></td>
		<td class="text-right"><input type="text" name="product_image[{{ image_row }}][sort_order]" value="{{ product_image.sort_order }}" placeholder="{{ entry_sort_order }}" class="form-control" /></td>
		<td class="text-left"><button type="button" onclick="$(this).tooltip('destroy');$('#image-row{{ image_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
			</tr>
			{% set image_row = image_row + 1 %}
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td colspan="2"></td>
		<td class="text-left"><button type="button" onclick="addImage();" data-toggle="tooltip" title="{{ button_image_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
			</tr>
		</tfoot>
	</table>
</div>
<script type="text/javascript"><!--
var image_row = {{ image_row }};

function addImage() {
	html  = '<tr id="image-row' + image_row + '">';
	html += '  <td class="text-left"><a href="" id="thumb-image' + image_row + '"data-toggle="image" class="img-thumbnail"><img src="{{ placeholder }}" alt="" title="" data-placeholder="{{ placeholder }}" /><input type="hidden" name="product_image[' + image_row + '][image]" value="" id="input-image' + image_row + '" /></td>';
	html += '  <td class="text-right"><input type="text" name="product_image[' + image_row + '][sort_order]" value="" placeholder="{{ entry_sort_order }}" class="form-control" /></td>';
	html += '  <td class="text-left"><button type="button" onclick="$(this).tooltip(\'destroy\');$(\'#image-row' + image_row  + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#images tbody').append(html);

	$('#image-row' + image_row + ' [data-toggle=\'tooltip\']').tooltip({container: 'body'});

	image_row++;
}
//--></script>
{% elseif parameter == 'options' %}
<div class="row" id="options-data">
	<div class="col-sm-3">
		<ul class="nav nav-pills nav-stacked" id="option">
			{% set option_row = 0 %}
			{% for product_option in product_options %}
			<li><a href="#tab-option{{ option_row }}" data-toggle="tab"><i class="fa fa-minus-circle" onclick="$('a[href=\'#tab-option{{ option_row }}\']').parent().remove(); $('#tab-option{{ option_row }}').remove(); $('#option a:first').tab('show');"></i> {{ product_option.name }}</a></li>
			{% set option_row = option_row + 1 %}
			{% endfor %}
			<li>
				<input type="text" name="option" value="" placeholder="{{ entry_option }}" id="input-option" class="form-control" />
			</li>
		</ul>
	</div>
	<div class="col-sm-9">
		<div class="tab-content">
			{% set option_row = 0 %}
			{% set option_value_row = 0 %}
			{% for product_option in product_options %}
			<div class="tab-pane" id="tab-option{{ option_row }}">
				<input type="hidden" name="product_option[{{ option_row }}][product_option_id]" value="{{ product_option.product_option_id }}" />
				<input type="hidden" name="product_option[{{ option_row }}][name]" value="{{ product_option.name }}" />
				<input type="hidden" name="product_option[{{ option_row }}][option_id]" value="{{ product_option.option_id }}" />
				<input type="hidden" name="product_option[{{ option_row }}][type]" value="{{ product_option.type }}" />
				<div class="form-group">
					<label class="col-sm-2 control-label" for="input-required{{ option_row }}">{{ entry_required }}</label>
					<div class="col-sm-10">
						<select name="product_option[{{ option_row }}][required]" id="input-required{{ option_row }}" class="form-control">
							{% if product_option.required %}
							<option value="1" selected="selected">{{ text_yes }}</option>
							<option value="0">{{ text_no }}</option>
							{% else %}
							<option value="1">{{ text_yes }}</option>
							<option value="0" selected="selected">{{ text_no }}</option>
							{% endif %}
						</select>
					</div>
				</div>
				{% if product_option.type == "text" %}
				<div class="form-group">
					<label class="col-sm-2 control-label" for="input-value{{ option_row }}">{{ entry_option_value }}</label>
					<div class="col-sm-10">
						<input type="text" name="product_option[{{ option_row }}][value]" value="{{ product_option.value }}" placeholder="{{ entry_option_value }}" id="input-value{{ option_row }}" class="form-control" />
					</div>
				</div>
				{% endif %}
				{% if product_option.type == "textarea" %}
				<div class="form-group">
					<label class="col-sm-2 control-label" for="input-value{{ option_row }}">{{ entry_option_value }}</label>
					<div class="col-sm-10">
						<textarea name="product_option[{{ option_row }}][value]" rows="5" placeholder="{{ entry_option_value }}" id="input-value{{ option_row }}" class="form-control">{{ product_option.value }}</textarea>
					</div>
				</div>
				{% endif %}
				{% if product_option.type == "file" %}
				<div class="form-group" style="display: none;">
					<label class="col-sm-2 control-label" for="input-value{{ option_row }}">{{ entry_option_value }}</label>
					<div class="col-sm-10">
						<input type="text" name="product_option[{{ option_row }}][value]" value="{{ product_option.value }}" placeholder="{{ entry_option_value }}" id="input-value{{ option_row }}" class="form-control" />
					</div>
				</div>
				{% endif %}
				{% if product_option.type == "date" %}
				<div class="form-group">
					<label class="col-sm-2 control-label" for="input-value{{ option_row }}">{{ entry_option_value }}</label>
					<div class="col-sm-3">
						<div class="input-group date">
							<input type="text" name="product_option[{{ option_row }}][value]" value="{{ product_option.value }}" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD" id="input-value{{ option_row }}" class="form-control" />
							<span class="input-group-btn">
							<button class="btn btn-default" type="button"><i class="fa fa-calendar"></i></button>
							</span></div>
					</div>
				</div>
				{% endif %}
				{% if product_option.type == "time" %}
				<div class="form-group">
					<label class="col-sm-2 control-label" for="input-value{{ option_row }}">{{ entry_option_value }}</label>
					<div class="col-sm-10">
						<div class="input-group time">
							<input type="text" name="product_option[{{ option_row }}][value]" value="{{ product_option.value }}" placeholder="{{ entry_option_value }}" data-date-format="HH:mm" id="input-value{{ option_row }}" class="form-control" />
							<span class="input-group-btn">
							<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
							</span></div>
					</div>
				</div>
				{% endif %}
				{% if product_option.type == "datetime" %}
				<div class="form-group">
					<label class="col-sm-2 control-label" for="input-value{{ option_row }}">{{ entry_option_value }}</label>
					<div class="col-sm-10">
						<div class="input-group datetime">
							<input type="text" name="product_option[{{ option_row }}][value]" value="{{ product_option.value }}" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD HH:mm" id="input-value{{ option_row }}" class="form-control" />
							<span class="input-group-btn">
							<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
							</span></div>
					</div>
				</div>
				{% endif %}
				{% if product_option.type == "select" or product_option.type == "radio" or product_option.type == "checkbox" or product_option.type == "image" %}
				<div class="table-responsive">
					<table id="option-value{{ option_row }}" class="table table-striped table-bordered table-hover">
						<thead>
							<tr>
								<td class="text-left">{{ entry_option_value }}</td>
								<td class="text-right">{{ entry_quantity }}</td>
								<td class="text-left">{{ entry_subtract }}</td>
								<td class="text-right">{{ entry_price }}</td>
								<td class="text-right">{{ entry_option_points }}</td>
								<td class="text-right">{{ entry_weight }}</td>
								<td></td>
							</tr>
						</thead>
						<tbody>
							{% for product_option_value in product_option.product_option_value %}
							<tr id="option-value-row{{ option_value_row }}">
								<td class="text-left"><select name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][option_value_id]" class="form-control">
										{% if option_values[product_option.option_id] %}
											{% for option_value in option_values[product_option.option_id] %}
												{% if option_value.option_value_id == product_option_value.option_value_id %}
										<option value="{{ option_value.option_value_id }}" selected="selected">{{ option_value.name }}</option>
												{% else %}
										<option value="{{ option_value.option_value_id }}">{{ option_value.name }}</option>
												{% endif %}
											{% endfor %}
										{% endif %}
									</select>
									<input type="hidden" name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][product_option_value_id]" value="{{ product_option_value.product_option_value_id }}" /></td>
								<td class="text-right"><input type="text" name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][quantity]" value="{{ product_option_value.quantity }}" placeholder="{{ entry_quantity }}" class="form-control" /></td>
								<td class="text-left"><select name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][subtract]" class="form-control">
										{% if product_option_value.subtract %}
										<option value="1" selected="selected">{{ text_yes }}</option>
										<option value="0">{{ text_no }}</option>
										{% else %}
										<option value="1">{{ text_yes }}</option>
										<option value="0" selected="selected">{{ text_no }}</option>
										{% endif %}
									</select></td>
								<td class="text-right"><select name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][price_prefix]" class="form-control">
										{% if product_option_value.price_prefix == "+" %}
										<option value="+" selected="selected">+</option>
										{% else %}
										<option value="+">+</option>
										{% endif %}
										{% if product_option_value.price_prefix == "-" %}
										<option value="-" selected="selected">-</option>
										{% else %}
										<option value="-">-</option>
										{% endif %}
									</select>
									<input type="text" name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][price]" value="{{ product_option_value.price }}" placeholder="{{ entry_price }}" class="form-control" /></td>
								<td class="text-right"><select name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][points_prefix]" class="form-control">
										{% if product_option_value.points_prefix == "+" %}
										<option value="+" selected="selected">+</option>
										{% else %}
										<option value="+">+</option>
										{% endif %}
										{% if product_option_value.points_prefix == "-" %}
										<option value="-" selected="selected">-</option>
										{% else %}
										<option value="-">-</option>
										{% endif %}
									</select>
									<input type="text" name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][points]" value="{{ product_option_value.points }}" placeholder="{{ entry_points }}" class="form-control" /></td>
								<td class="text-right"><select name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][weight_prefix]" class="form-control">
										{% if product_option_value.weight_prefix == "+" %}
										<option value="+" selected="selected">+</option>
										{% else %}
										<option value="+">+</option>
										{% endif %}
										{% if product_option_value.weight_prefix == "-" %}
										<option value="-" selected="selected">-</option>
										{% else %}
										<option value="-">-</option>
										{% endif %}
									</select>
									<input type="text" name="product_option[{{ option_row }}][product_option_value][{{ option_value_row }}][weight]" value="{{ product_option_value.weight }}" placeholder="{{ entry_weight }}" class="form-control" /></td>
								<td class="text-left"><button type="button" onclick="$(this).tooltip('destroy');$('#option-value-row{{ option_value_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
							</tr>
							{% set option_value_row = option_value_row + 1 %}
							{% endfor %}
						</tbody>
						<tfoot>
							<tr>
								<td colspan="6"></td>
								<td class="text-left"><button type="button" onclick="addOptionValue('{{ option_row }}');" data-toggle="tooltip" title="{{ button_option_value_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
							</tr>
						</tfoot>
					</table>
				</div>
				<select id="option-values{{ option_row }}" style="display: none;">
					{% if option_values[product_option.option_id] %}
					{% for option_value in option_values[product_option.option_id] %}
					<option value="{{ option_value.option_value_id }}">{{ option_value.name }}</option>
					{% endfor %}
					{% endif %}
				</select>
				{% endif %}
			</div>
			{% set option_row = option_row + 1 %}
			{% endfor %}
		</div>
	</div>
</div>
<script type="text/javascript"><!--
var option_row = {{ option_row }};

$('input[name=\'option\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=catalog/option/autocomplete&user_token={{ user_token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						category: item['category'],
						label: item['name'],
						value: item['option_id'],
						type: item['type'],
						option_value: item['option_value']
					}
				}));
			}
		});
	},
	'select': function(item) {
		html  = '<div class="tab-pane" id="tab-option' + option_row + '">';
		html += '	<input type="hidden" name="product_option[' + option_row + '][product_option_id]" value="" />';
		html += '	<input type="hidden" name="product_option[' + option_row + '][name]" value="' + item['label'] + '" />';
		html += '	<input type="hidden" name="product_option[' + option_row + '][option_id]" value="' + item['value'] + '" />';
		html += '	<input type="hidden" name="product_option[' + option_row + '][type]" value="' + item['type'] + '" />';
		html += '	<div class="form-group">';
		html += '	  <label class="col-sm-2 control-label" for="input-required' + option_row + '">{{ entry_required }}</label>';
		html += '	  <div class="col-sm-10"><select name="product_option[' + option_row + '][required]" id="input-required' + option_row + '" class="form-control">';
		html += '	      <option value="1">{{ text_yes }}</option>';
		html += '	      <option value="0">{{ text_no }}</option>';
		html += '	  </select></div>';
		html += '	</div>';

		if (item['type'] == 'text') {
			html += '	<div class="form-group">';
			html += '	  <label class="col-sm-2 control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="col-sm-10"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="form-control" /></div>';
			html += '	</div>';
		}

		if (item['type'] == 'textarea') {
			html += '	<div class="form-group">';
			html += '	  <label class="col-sm-2 control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="col-sm-10"><textarea name="product_option[' + option_row + '][value]" rows="5" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="form-control"></textarea></div>';
			html += '	</div>';
		}

		if (item['type'] == 'file') {
			html += '	<div class="form-group" style="display: none;">';
			html += '	  <label class="col-sm-2 control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="col-sm-10"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="form-control" /></div>';
			html += '	</div>';
		}

		if (item['type'] == 'date') {
			html += '	<div class="form-group">';
			html += '	  <label class="col-sm-2 control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="col-sm-3"><div class="input-group date"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD" id="input-value' + option_row + '" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
			html += '	</div>';
		}

		if (item['type'] == 'time') {
			html += '	<div class="form-group">';
			html += '	  <label class="col-sm-2 control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="col-sm-10"><div class="input-group time"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="HH:mm" id="input-value' + option_row + '" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
			html += '	</div>';
		}

		if (item['type'] == 'datetime') {
			html += '	<div class="form-group">';
			html += '	  <label class="col-sm-2 control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="col-sm-10"><div class="input-group datetime"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD HH:mm" id="input-value' + option_row + '" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
			html += '	</div>';
		}

		if (item['type'] == 'select' || item['type'] == 'radio' || item['type'] == 'checkbox' || item['type'] == 'image') {
			html += '<div class="table-responsive">';
			html += '  <table id="option-value' + option_row + '" class="table table-striped table-bordered table-hover">';
			html += '  	 <thead>';
			html += '      <tr>';
			html += '        <td class="text-left">{{ entry_option_value }}</td>';
			html += '        <td class="text-right">{{ entry_quantity }}</td>';
			html += '        <td class="text-left">{{ entry_subtract }}</td>';
			html += '        <td class="text-right">{{ entry_price }}</td>';
			html += '        <td class="text-right">{{ entry_option_points }}</td>';
			html += '        <td class="text-right">{{ entry_weight }}</td>';
			html += '        <td></td>';
			html += '      </tr>';
			html += '  	 </thead>';
			html += '  	 <tbody>';
			html += '    </tbody>';
			html += '    <tfoot>';
			html += '      <tr>';
			html += '        <td colspan="6"></td>';
			html += '        <td class="text-left"><button type="button" onclick="addOptionValue(' + option_row + ');" data-toggle="tooltip" title="{{ button_option_value_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>';
			html += '      </tr>';
			html += '    </tfoot>';
			html += '  </table>';
			html += '</div>';
			html += '  <select id="option-values' + option_row + '" style="display: none;">';

			for (i = 0; i < item['option_value'].length; i++) {
				html += '  <option value="' + item['option_value'][i]['option_value_id'] + '">' + item['option_value'][i]['name'] + '</option>';
			}

			html += '  </select>';
			html += '</div>';
		}

		$('#options-data .tab-content').append(html);

		$('#option > li:last-child').before('<li><a href="#tab-option' + option_row + '" data-toggle="tab"><i class="fa fa-minus-circle" onclick="$(\'a[href=\\\'#tab-option' + option_row + '\\\']\').parent().remove(); $(\'#tab-option' + option_row + '\').remove(); $(\'#option a:first\').tab(\'show\')"></i> ' + item['label'] + '</li>');

		$('#option a[href=\'#tab-option' + option_row + '\']').tab('show');

		$('.date').datetimepicker({
			pickTime: false
		});

		$('.time').datetimepicker({
			pickDate: false
		});

		$('.datetime').datetimepicker({
			pickDate: true,
			pickTime: true
		});

		$('#tab-option' + option_row + ' [data-toggle=\'tooltip\']').tooltip({container: 'body'});

		option_row++;
	}
});

var option_value_row = {{ option_value_row }};

function addOptionValue(option_row) {
	html  = '<tr id="option-value-row' + option_value_row + '">';
	html += '  <td class="text-left"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][option_value_id]" class="form-control">';
	html += $('#option-values' + option_row).html();
	html += '  </select><input type="hidden" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][product_option_value_id]" value="" /></td>';
	html += '  <td class="text-right"><input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][quantity]" value="" placeholder="{{ entry_quantity }}" class="form-control" /></td>';
	html += '  <td class="text-left"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][subtract]" class="form-control">';
	html += '    <option value="1">{{ text_yes }}</option>';
	html += '    <option value="0">{{ text_no }}</option>';
	html += '  </select></td>';
	html += '  <td class="text-right"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][price_prefix]" class="form-control">';
	html += '    <option value="+">+</option>';
	html += '    <option value="-">-</option>';
	html += '  </select>';
	html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][price]" value="" placeholder="{{ entry_price }}" class="form-control" /></td>';
	html += '  <td class="text-right"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][points_prefix]" class="form-control">';
	html += '    <option value="+">+</option>';
	html += '    <option value="-">-</option>';
	html += '  </select>';
	html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][points]" value="" placeholder="{{ entry_points }}" class="form-control" /></td>';
	html += '  <td class="text-right"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][weight_prefix]" class="form-control">';
	html += '    <option value="+">+</option>';
	html += '    <option value="-">-</option>';
	html += '  </select>';
	html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][weight]" value="" placeholder="{{ entry_weight }}" class="form-control" /></td>';
	html += '  <td class="text-left"><button type="button" onclick="$(this).tooltip(\'destroy\');$(\'#option-value-row' + option_value_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#option-value' + option_row + ' tbody').append(html);

	$('#option-value-row' + option_value_row + ' [data-toggle=\'tooltip\']').tooltip({container: 'body'});

	option_value_row++;
}
$('#option a:first').trigger('click');
$('#options-data .date').datetimepicker({
	pickTime: false
});

$('#options-data .time').datetimepicker({
	pickDate: false
});

$('#options-data .datetime').datetimepicker({
	pickDate: true,
	pickTime: true
});
//--></script>
{% elseif parameter == 'recurrings' %}
<div class="table-responsive">
	<table class="table table-striped table-bordered table-hover" id="recurrings">
		<thead>
			<tr>
				<td class="text-left">{{ entry_recurring }}</td>
				<td class="text-left">{{ entry_customer_group }}</td>
				<td width="1"></td>
			</tr>
		</thead>
		<tbody>
			{% set recurring_row = 0 %}
			{% for product_recurring in product_recurrings %}
			<tr id="recurring-row{{ recurring_row }}">
					<td class="text-left"><select name="product_recurrings[{{ recurring_row }}][recurring_id]" class="form-control">
									{% for recurring in recurrings %}
										{% if recurring.recurring_id == product_recurring.recurring_id %}
									<option value="{{ recurring.recurring_id }}" selected="selected">{{ recurring.name }}</option>
										{% else %}
									<option value="{{ recurring.recurring_id }}">{{ recurring.name }}</option>
										{% endif %}
									{% endfor %}
							</select></td>
					<td class="text-left"><select name="product_recurrings[{{ recurring_row }}][customer_group_id]" class="form-control">
									{% for customer_group in customer_groups %}
										{% if customer_group.customer_group_id == product_recurring.customer_group_id %}
									<option value="{{ customer_group.customer_group_id }}" selected="selected">{{ customer_group.name }}</option>
										{% else %}
									<option value="{{ customer_group.customer_group_id }}">{{ customer_group.name }}</option>
										{% endif %}
									{% endfor %}
							</select></td>
					<td class="text-left"><button type="button" onclick="$(this).tooltip('destroy');$('#recurring-row{{ recurring_row }}').remove()" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
			</tr>
			{% set recurring_row = recurring_row + 1 %}
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td colspan="2"></td>
				<td class="text-left"><button type="button" onclick="addRecurring()" data-toggle="tooltip" title="{{ button_recurring_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
			</tr>
		</tfoot>
	</table>
</div>
<script type="text/javascript"><!--
var recurring_row = {{ recurring_row }};

function addRecurring() {
	html  = '<tr id="recurring-row' + recurring_row + '">';
	html += '  <td class="text-left">';
	html += '    <select name="product_recurrings[' + recurring_row + '][recurring_id]" class="form-control">>';
	{% for recurring in recurrings %}
	html += '      <option value="{{ recurring.recurring_id }}">{{ recurring.name }}</option>';
	{% endfor %}
	html += '    </select>';
	html += '  </td>';
	html += '  <td class="text-left">';
	html += '    <select name="product_recurrings[' + recurring_row + '][customer_group_id]" class="form-control">>';
	{% for customer_group in customer_groups %}
	html += '      <option value="{{ customer_group.customer_group_id }}">{{ customer_group.name }}</option>';
	{% endfor %}
	html += '    <select>';
	html += '  </td>';
	html += '  <td class="text-left"><button type="button" onclick="$(this).tooltip(\'destroy\');$(\'#recurring-row' + recurring_row + '\').remove()" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#recurrings tbody').append(html);

	$('#recurring-row' + recurring_row + ' [data-toggle=\'tooltip\']').tooltip({container: 'body'});

	recurring_row++;
}
//--></script>
{% elseif parameter == 'specials' %}
<div class="table-responsive">
	<table class="table table-striped table-bordered table-hover" id="specials">
		<thead>
			<tr>
				<td class="text-left">{{ entry_customer_group }}</td>
				<td class="text-right">{{ entry_priority }}</td>
				<td class="text-right">{{ entry_price }}</td>
				<td class="text-left">{{ entry_date_start }}</td>
				<td class="text-left">{{ entry_date_end }}</td>
				<td width="1"></td>
			</tr>
		</thead>
		<tbody>
			{% set special_row = 0 %}
			{% for product_special in product_specials %}
			<tr id="special-row{{ special_row }}">
				<td class="text-left"><select name="product_special[{{ special_row }}][customer_group_id]" class="form-control">
						{% for customer_group in customer_groups %}
							{% if customer_group.customer_group_id == product_special.customer_group_id %}
						<option value="{{ customer_group.customer_group_id }}" selected="selected">{{ customer_group.name }}</option>
							{% else %}
						<option value="{{ customer_group.customer_group_id }}">{{ customer_group.name }}</option>
							{% endif %}
						{% endfor %}
					</select></td>
				<td class="text-right"><input type="text" name="product_special[{{ special_row }}][priority]" value="{{ product_special.priority }}" placeholder="{{ entry_priority }}" class="form-control" /></td>
				<td class="text-right"><input type="text" name="product_special[{{ special_row }}][price]" value="{{ product_special.price }}" placeholder="{{ entry_price }}" class="form-control" /></td>
				<td class="text-left" style="width: 20%;"><div class="input-group date">
					<input type="text" name="product_special[{{ special_row }}][date_start]" value="{{ product_special.date_start }}" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="form-control" />
					<span class="input-group-btn">
					<button class="btn btn-default" type="button"><i class="fa fa-calendar"></i></button>
					</span></div></td>
				<td class="text-left" style="width: 20%;"><div class="input-group date">
					<input type="text" name="product_special[{{ special_row }}][date_end]" value="{{ product_special.date_end }}" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="form-control" />
					<span class="input-group-btn">
					<button class="btn btn-default" type="button"><i class="fa fa-calendar"></i></button>
					</span></div></td>
				<td class="text-left">
					<input type="hidden" name="product_special[{{ special_row }}][special_id]" value="{{ product_special.special_id }}" />
					<button type="button" onclick="$(this).tooltip('destroy');$('#special-row{{ special_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button>
				</td>
			</tr>
			{% set special_row = special_row + 1 %}
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td colspan="5"></td>
				<td class="text-left"><button type="button" onclick="addSpecial();" data-toggle="tooltip" title="{{ button_special_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
			</tr>
		</tfoot>
	</table>
</div>
<script type="text/javascript"><!--
var special_row = {{ special_row }};

function addSpecial() {
	html  = '<tr id="special-row' + special_row + '">';
	html += '  <td class="text-left"><select name="product_special[' + special_row + '][customer_group_id]" class="form-control">';
	{% for customer_group in customer_groups %}
	html += '      <option value="{{ customer_group.customer_group_id }}">{{ customer_group.name|addslashes() }}</option>';
	{% endfor %}
	html += '  </select></td>';
	html += '  <td class="text-right"><input type="text" name="product_special[' + special_row + '][priority]" value="" placeholder="{{ entry_priority }}" class="form-control" /></td>';
	html += '  <td class="text-right"><input type="text" name="product_special[' + special_row + '][price]" value="" placeholder="{{ entry_price }}" class="form-control" /></td>';
	html += '  <td class="text-left" style="width: 20%;"><div class="input-group date"><input type="text" name="product_special[' + special_row + '][date_start]" value="" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
	html += '  <td class="text-left" style="width: 20%;"><div class="input-group date"><input type="text" name="product_special[' + special_row + '][date_end]" value="" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="form-control" /><span class="input-group-btn"><button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
	html += '  <td class="text-left"><button type="button" onclick="$(\'#special-row' + special_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#specials tbody').append(html);

	$('#special-row' + special_row + ' .date').datetimepicker({pickTime: false	});

	$('#special-row' + special_row + ' [data-toggle=\'tooltip\']').tooltip({container: 'body'});

	special_row++;
}

$('#specials tbody .date').datetimepicker({pickTime: false});
//--></script>
{% elseif parameter in ['download', 'downloads'] %}
<div class="row">
	<div class="col-sm-12">
		<input type="text" name="download" value="" placeholder="{{ entry_download }}" id="input-download" class="form-control" />
		<div id="product-download" class="well well-sm" style="height: 150px; overflow: auto;">
			{% for product_download in product_downloads %}
			<div id="product-download{{ product_download.download_id }}"><i class="fa fa-minus-circle" onclick="$(this).parent().remove();"></i> {{ product_download.name }}
					<input type="hidden" name="product_download[]" value="{{ product_download.download_id }}" />
			</div>
			{% endfor %}
		</div>
	</div>
</div>
<script type="text/javascript"><!--
$('input[name=\'download\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=catalog/download/autocomplete&user_token={{ user_token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['download_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'download\']').val('');

		$('#product-download' + item['value']).remove();

		$('#product-download').append('<div id="product-download' + item['value'] + '"><i class="fa fa-minus-circle" onclick="$(this).parent().remove();"></i> ' + item['label'] + '<input type="hidden" name="product_download[]" value="' + item['value'] + '" /></div>');
	}
});
//--></script>
{% elseif parameter == 'related' %}
<div class="row">
	<div class="col-sm-12">
		<input type="text" name="related" value="" placeholder="{{ entry_related }}" id="input-related" class="form-control" />
		<div id="product-related" class="well well-sm" style="height: 150px; overflow: auto;">
			{% for product_related in product_relateds %}
			<div id="product-related{{ product_related.product_id }}"><i class="fa fa-minus-circle" onclick="$(this).parent().remove();"></i> {{ product_related.name }}
					<input type="hidden" name="product_related[]" value="{{ product_related.product_id }}" />
			</div>
			{% endfor %}
		</div>
	</div>
</div>
<script type="text/javascript"><!--
$('input[name=\'related\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=catalog/product/autocomplete&user_token={{ user_token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['product_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'related\']').val('');

		$('#product-related' + item['value']).remove();

		$('#product-related').append('<div id="product-related' + item['value'] + '"><i class="fa fa-minus-circle" onclick="$(this).parent().remove();"></i> ' + item['label'] + '<input type="hidden" name="product_related[]" value="' + item['value'] + '" /></div>');
	}
});
//--></script>
{% elseif parameter == 'descriptions' %}
<ul class="nav nav-tabs" id="language">
	{% for language in languages %}
	<li><a href="#language{{ language.language_id }}" data-toggle="tab"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /> {{ language.name }}</a></li>
	{% endfor %}
</ul>
<div class="tab-content">
	{% for language in languages %}
	<div class="tab-pane" id="language{{ language.language_id }}">
		<div class="form-group">
			<label class="control-label" for="input-description{{ language.language_id }}">{{ entry_description }}</label>
			<textarea name="product_description[{{ language.language_id }}][description]" placeholder="{{ entry_description }}" id="input-description{{ language.language_id }}" class="form-control" data-toggle="summernote" data-lang="{{ summernote }}">{{ product_description[language.language_id].description }}</textarea>
		</div>
		<div class="form-group required">
			<label class="control-label" for="input-meta-title{{ language.language_id }}">{{ entry_meta_title }}</label>
			<input type="text" name="product_description[{{ language.language_id }}][meta_title]" value="{{ product_description[language.language_id].meta_title }}" placeholder="{{ entry_meta_title }}" id="input-meta-title{{ language.language_id }}" class="form-control" />
			{% if error_meta_title[language.language_id] %}
			<div class="text-danger">{{ error_meta_title[language.language_id] }}</div>
			{% endif %}
		</div>
		<div class="form-group">
			<label class="control-label" for="input-meta-description{{ language.language_id }}">{{ entry_meta_description }}</label>
			<textarea name="product_description[{{ language.language_id }}][meta_description]" rows="5" placeholder="{{ entry_meta_description }}" id="input-meta-description{{ language.language_id }}" class="form-control">{{ product_description[language.language_id].meta_description }}</textarea>
		</div>
		<div class="form-group">
			<label class="control-label" for="input-meta-keyword{{ language.language_id }}">{{ entry_meta_keyword }}</label>
			<textarea name="product_description[{{ language.language_id }}][meta_keyword]" rows="5" placeholder="{{ entry_meta_keyword }}" id="input-meta-keyword{{ language.language_id }}" class="form-control">{{ product_description[language.language_id].meta_keyword }}</textarea>
		</div>
	</div>
	{% endfor %}
</div>
<link href="view/javascript/codemirror/lib/codemirror.css" rel="stylesheet" />
<link href="view/javascript/codemirror/theme/monokai.css" rel="stylesheet" />
<script type="text/javascript" src="view/javascript/codemirror/lib/codemirror.js"></script>
<script type="text/javascript" src="view/javascript/codemirror/lib/xml.js"></script>
<script type="text/javascript" src="view/javascript/codemirror/lib/formatting.js"></script>
<script type="text/javascript" src="view/javascript/summernote/summernote.js"></script>
<link href="view/javascript/summernote/summernote.css" rel="stylesheet" />
<script type="text/javascript" src="view/javascript/summernote/summernote-image-attributes.js"></script>
<script type="text/javascript" src="view/javascript/summernote/opencart.js"></script>
<script type="text/javascript"><!--
{% for language in languages %}
$('#input-description{{ language.language_id }}').on('summernote.change', function(we, contents, $editable) {
	$('#input-description{{ language.language_id }}').val(contents);
});
{% endfor %}
$("#language a:first").trigger('click');
//--></script>
{% endif %}
